# Planner 要件定義書

## 1. 概要

本ドキュメントは、タスク管理アプリケーション「Planner」の要件を定義するものである。
Plannerは、1日単位でタスクの計画（Plan）と実績（Do）を記録し、日々の業務サイクルを効率化することを目的とする。

## 2. 機能要件

### 2.1. タスク管理

#### 2.1.1. タスクの属性

各タスクは以下の属性を持つ。

- **ID:** 一意の識別子
- **タイトル:** タスクの名称（必須）
- **リンク:** 関連URL（任意）
- **分類:** ユーザーが定義するカテゴリ（任意）
- **状態:** `未着手` / `作業中` / `完了` のいずれか
- **開始時刻:** タイムスタンプ
- **終了時刻:** タイムスタンプ
- **作業時間:** `HH:MM` 形式。完了時に自動計算され、ユーザーによる調整も可能。
- **作成日:** タスクが作成された日付

#### 2.1.2. タスクの操作

- **追加:** 「今日のタスク」「明日のタスク」の各セクションでタスクを追加できる。
- **編集:** 既存タスクのタイトル、リンク、分類などを編集できる。
- **削除:** タスクを削除できる。
- **状態変更:** タスクの状態をいつでも変更できる。
- **時間計測:**
    - 「開始」操作で開始時刻を記録し、状態を「作業中」にする。
    - 「完了」操作で終了時刻を記録し、状態を「完了」にする。同時に作業時間を自動計算し、ユーザーに確認・調整を促す。

### 2.2. 画面構成

単一ページのシンプルなUIで、以下の要素から構成される。

- **ヘッダー:**
    - 現在の日付表示
    - 「日付を進める」ボタン
    - テーマ切替スイッチ（ライト/ダーク）
    - 設定モーダルを開くアイコンボタン
- **今日のタスク (Today's Tasks):**
    - その日の作業対象となるタスクのリスト。
    - タスク追加フォームを含む。
- **明日のタスク (Tomorrow's Tasks):**
    - 次日に作業予定のタスクのリスト。
    - タスク追加フォームを含む。

### 2.3. 日次処理（日付を進める）

朝のプランニングを想定した機能。ボタン操作により以下の処理を一度に行う。

1.  **実績記録:** 前日の「今日のタスク」のうち、`完了`状態のものを「履歴」として保存する。
2.  **タスク繰越:** 前日の「今日のタスク」のうち、`未着手`・`作業中`のものを、新しい「今日のタスク」リストに移動させる。
3.  **タスク昇格:** 前日の「明日のタスク」を、新しい「今日のタスク」リストに移動させる。
4.  **日付更新:** アプリケーションの基準日を1日進める。

### 2.4. 設定

設定アイコンからモーダルウィンドウで以下の機能を提供する。

- **分類管理:**
    - ユーザーがタスクの分類を自由に「追加」「編集」「削除」できる。
- **データ管理:**
    - **エクスポート:** アプリケーションの全データ（タスク、設定情報）を整形されたJSON形式でテキストエリアに出力する。
    - **インポート:** テキストエリアに貼り付けられたJSONデータを読み込み、現在のデータを上書きする。処理実行前には確認ダイアログを表示する。
- **履歴閲覧:**
    - 過去に完了したタスクを日付ごとに閲覧できる。

## 3. 非機能要件

### 3.1. 技術スタック

- **フロントエンド:** React
- **ビルドツール:** Vite または Create React App
- **動作環境:** 最新版の主要なWebブラウザ

### 3.2. データ永続化

- すべてのデータは、クライアントサイドの `LocalStorage` にJSON形式で保存する。
- 将来的にバックエンドAPIへ移行しやすいデータ構造を考慮する。

### 3.3. デザイン

- **テーマ:** ライトモードとダークモードをサポートする。
- **UI:** シンプルで直感的に操作できるリスト形式のデザインを採用する。
