# Planner 実装計画書

## 1. 概要

本ドキュメントは、「Planner 要件定義書」に基づき、アプリケーションの実装計画を定めるものである。

## 2. 開発フェーズ

実装は以下のフェーズに分けて段階的に進める。

### フェーズ1: 基礎構築 (Environment & Core Components)

- **タスク:**
    1.  **開発環境セットアップ:**
        -   Vite + React (TypeScript) のプロジェクトを作成する。
        -   ESLint, Prettier を導入し、コーディング規約を統一する。
    2.  **ディレクトリ構造設計:**
        -   `src/components`, `src/hooks`, `src/contexts`, `src/types` などの基本的なフォルダ構成を決定する。
    3.  **データ構造定義:**
        -   `LocalStorage` に保存するデータ（タスク、設定、履歴）のTypeScriptの型を定義する。
    4.  **基本UIコンポーネント実装:**
        -   `Header`, `Footer`, `Button`, `Input` など、アプリケーション全体で利用する汎用的なコンポーネントを作成する。
        -   テーマ（ライト/ダーク）の切り替え機能を実装する。

### フェーズ2: タスク機能の実装 (Task Feature)

- **タスク:**
    1.  **タスクリスト表示:**
        -   「今日のタスク」「明日のタスク」のリストを表示する `TaskList` コンポーネントを作成する。
        -   タスクの各項目を表示する `TaskItem` コンポーネントを作成する。
    2.  **状態管理の実装:**
        -   React Context API (`useContext` と `useReducer`) を用いて、タスクデータを管理する仕組みを構築する。
        -   `LocalStorage` へのデータの読み書きを行うカスタムフック (`useLocalStorage`) を作成する。
    3.  **タスク操作機能の実装:**
        -   タスクの追加、編集、削除ロジックを実装する。
        -   タスクの状態（未着手, 作業中, 完了）を変更する機能を実装する。
    4.  **時間計測機能の実装:**
        -   開始・完了操作によるタイムスタンプの記録。
        -   作業時間の自動計算とユーザーによる調整機能の実装。

### フェーズ3: 高度機能の実装 (Advanced Features)

- **タスク:**
    1.  **日次処理機能の実装:**
        -   「日付を進める」ボタンのロジック（実績記録、タスク繰越・昇格）を実装する。
    2.  **設定モーダルの実装:**
        -   モーダルUIコンポーネントを作成する。
        -   分類（カテゴリ）のCRUD（作成, 読み取り, 更新, 削除）機能を実装する。
    3.  **データ入出力機能の実装:**
        -   JSONエクスポート機能を実装する。
        -   JSONインポート機能を実装する（確認ダイアログを含む）。
    4.  **履歴閲覧機能の実装:**
        -   過去の完了タスクを日付ごとに表示する `History` コンポーネントを作成する。

### フェーズ4: 仕上げとビルド (Refinement & Build)

- **タスク:**
    1.  **全体的なスタイリング:**
        -   CSSやCSS-in-JSライブラリを使用し、デザインを整える。
        -   レスポンシブ対応を検討する。
    2.  **テスト:**
        -   主要な機能（タスク操作、日次処理など）に対して単体テストを作成する。
    3.  **単一HTMLファイルへのビルド:**
        -   ビルドプロセスをカスタマイズし、生成されたCSSとJSを単一のHTMLファイルにインライン化するスクリプトを作成または設定する。

## 3. 将来的な拡張

- バックエンドAPIの設計と実装。
- APIとの通信を行うロジックへの置き換え。
- ユーザー認証機能の追加。
